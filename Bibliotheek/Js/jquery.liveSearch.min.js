/***
@title:
Live Search
@version:
2.0
@author:
Andreas Lagerkvist
@date:
2008-08-31
@url:
http://andreaslagerkvist.com/jquery/live-search/
@license:
http://creativecommons.org/licenses/by/3.0/
@copyright:
2008 Andreas Lagerkvist (andreaslagerkvist.com)
***/
jQuery.fn.liveSearch=function(n){var t=jQuery.extend({url:"/search-results.php?q=",id:"jquery-live-search",duration:400,typeDelay:200,loadingClass:"loading",onSlideUp:function(){},uptadePosition:!1},n),i=jQuery("#"+t.id);return i.length||(i=jQuery('<div id="'+t.id+'"><\/div>').appendTo(document.body).hide().slideUp(0),jQuery(document.body).click(function(n){var r=jQuery(n.target);r.is("#"+t.id)||r.parents("#"+t.id).length||r.is("input")||i.slideUp(t.duration,function(){t.onSlideUp()})})),this.each(function(){var n=jQuery(this).attr("autocomplete","off"),f=parseInt(i.css("paddingLeft"),10)+parseInt(i.css("paddingRight"),10)+parseInt(i.css("borderLeftWidth"),10)+parseInt(i.css("borderRightWidth"),10),r=function(){var r=n.offset(),t={left:r.left,top:r.top,width:n.outerWidth(),height:n.outerHeight()};t.topPos=t.top+t.height;t.totalWidth=t.width-f;i.css({position:"absolute",left:t.left+"px",top:t.topPos+"px",width:t.totalWidth+"px"})},u=function(){r();$(window).unbind("resize",r);$(window).bind("resize",r);i.slideDown(t.duration)},e=function(){i.slideUp(t.duration,function(){t.onSlideUp()})};n.focus(function(){this.value!==""&&(i.html()==""?(this.lastValue="",n.keyup()):setTimeout(u,1))}).keyup(function(){if(this.value!=this.lastValue){n.addClass(t.loadingClass);var r=this.value;this.timer&&clearTimeout(this.timer);this.timer=setTimeout(function(){jQuery.get(t.url+r,function(f){n.removeClass(t.loadingClass);f.length&&r.length?(i.html(f),u()):e()})},t.typeDelay);this.lastValue=this.value}})})};
/*
//# sourceMappingURL=jquery.liveSearch.min.js.map
*/